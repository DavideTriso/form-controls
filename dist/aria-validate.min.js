!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery,window)}(function(e,t){"use strict";function s(e,t,s){return s=void 0!==s?s:"",e.is("[id]")||e.attr("id",t+s),e.attr("id")}function i(t,s){return s?e.extend({},t,s):t}function r(e,t){for(var s=e.split(" "),i=s.length,r="",a=0;a<i;a+=1)r=r+" "+s[a]+"."+t;return String(r)}function a(e,t,s){return/^\d{4}-\d{2}-\d{2}$/.test(e)?e:3===(e=e.split(s)).length&&2===e[0].length&&2===e[1].length&&4===e[2].length&&("eu"===t?e=e[2]+"-"+e[1]+"-"+e[0]:"us"===t&&(e=e[2]+"-"+e[0]+"-"+e[1]),e)}function l(e,t,s){if(Array.isArray(e)){var i=e[1];return 3!==(e=e[0].attr(h.dV)||e[0].val()).length||e||(e=e[2]),e=a(e,t,s),e=new Date(e),e=e.setDate(e.getDate()+i)}return e=e.attr(h.dV)||e.val(),a(e,regionSettings.dateFormat,regionSettings.dateSeparator)}function n(e){if(Array.isArray(e)){var t=e[1];return 3!==(e=""!==e[0].attr(h.dV)?e[0].attr(h.dV).length:e[0].val().length).length||e||(e=e[2]),(e+=t)>0?e:t}return e=e.attr(h.dV).length||e.val().length}function o(e){if(Array.isArray(e)){var t=e[1];return 3!==(e=e[0].attr(h.dV)||e[0].val()).length||e||(e=e[2]),parseFloat(e,10)+t}return e=e.attr(h.dV)||e.val(),parseFloat(e,10)}function d(t,s){this.element=e(t),this.userSettings=s,this.behaviour=this.userSettings.behaviour,this.behaviourLength=this.behaviour.length,this.classes=i(e.fn[u].defaultClasses,this.userSettings.classes),this.regionSettings=i(e.fn[u].defaultRegionSettings,this.userSettings.regionSettings),this.fieldStatus=void 0,this.isDirty=!1,this.fieldValue=void 0,this.errorMsgs=i(e.fn[u].defaultErrorMsgs,this.userSettings.errorMsgs),this.successMsg=this.userSettings.successMsg?this.userSettings.successMsg:e.fn[u].defaultSuccessMsg,this.eventListeners=null,this.selectElements(),this.initMarkup(),this.manageDirty(),this.addBehaviour(),this.updateFieldValue()}var u="ariaValidate",h={r:"role",aHi:"aria-hidden",aLi:"aria-live",aRe:"aria-relevant",aAt:"aria-atomic",aErM:"aria-errormessage",aInv:"aria-invalid",aOw:"aria-owns",req:"required",dV:"data-value",t:"true",f:"false"},c=0,f=e(t);e.extend(d.prototype,{selectElements:function(){var t=this.classes,s=this.element;if(this.field=s.find("."+t.fieldClass),this.label=s.find("."+t.labelClass),this.alertbox=1===s.find("."+t.alertboxClass).length&&s.find("."+t.alertboxClass),this.successbox=1===s.find("."+t.successboxClass).length&&s.find("."+t.successboxClass),1===this.field.length)this.fieldTag=this.field.prop("tagName"),this.fieldType="INPUT"===this.fieldTag&&this.field.attr("type"),this.fieldName=this.userSettings.fieldName||this.field.attr("name");else{if(!(this.field.length>1&&"radio"===this.field.first().attr("type")))throw Erro("There is something wrong with your markup");this.fieldTag="INPUT",this.fieldType="radio",this.fieldName=this.userSettings.fieldName||e(this.field[0]).attr("name")}},initMarkup:function(){var t=this,i=s(t.element,t.classes.controlIdPrefix,c),r="",a=!1!==t.alertbox&&s(t.alertbox,i+"__alertbox"),l=!1!==t.successbox&&s(t.successbox,i+"__successbox");"radio"!==t.fieldType?(r=s(t.field,i+"__input"),t.label.is('[for="'+r+'"]')||t.label.attr("for",r)):(r=[],t.field.each(function(a){var l=e(this);r.push(s(l,i+"__input-"+a)),l.is('[for="'+r[a]+'"]')||e(t.label[a]).attr("for",r[a])})),t.alertbox&&(t.field.attr(h.aErM,a),t.alertbox.attr(h.r,"alert").attr(h.aLi,"assertive").attr(h.aRe,"additions text").attr(h.aAt,h.t).attr(h.aHi,h.t)),t.successbox&&(t.field.attr(h.aOw,l),t.successbox.attr(h.aLi,"polite").attr(h.aRe,"additions text").attr(h.aAt,h.t).attr(h.aHi,h.t)),f.trigger(u+".markupInitialised",[t]),c+=1},manageDirty:function(){var e=this,t=e.fieldType,s="blur";"SELECT"!==e.fieldTag&&"color"!==t&&"range"!==t||(s="change"),e.field.one(s+".dirty."+u,function(){e.isDirty=!0,f.trigger(u+".markedAsDirty",[e])})},addBehaviour:function(){for(var e=this.behaviour,t=this.behaviourLength,s=0;s<t;s+=1)this.bindEventListeners(e[s]);f.trigger(u+".behaviourAdded",[this])},bindEventListeners:function(e){var t=this,s=r(e.event,u),i=e.autoformat||!1,a=e.validate||!1,l=e.main||!1,n=e.dirty;t.field.on(s,function(){i&&t.performAutoformat(i),a&&t.performValidation(a,l,n),t.eventListeners=t.eventListeners+" "+e.event})},unbindEventListeners:function(e){e=r(e,u);this.field.off(r(e,u)),this.eventListeners=this.eventListeners.replace(e,""),f.trigger(u+".eventListenersRemoved",[this])},updateFieldValue:function(){"checkbox"===this.fieldType?this.fieldValue=this.field.prop("checked"):"radio"===this.fieldType?this.fieldValue=1===this.field.filter(":checked").length&&this.field.filter(":checked").val():this.fieldValue=this.field.val()||"",this.field.attr(h.dV,this.fieldValue)},performAutoformat:function(t){this.updateFieldValue();for(var s in t)this.fieldValue=e.fn[u].autoformatFunctions[s](this.fieldValue,t[s],this.regionSettings);this.field.val(this.fieldValue)},performValidation:function(t,s,i){if(this.updateFieldValue(),void 0===i||!(i&&!this.isDirty||!i&&this.isDirty)){for(var r in t){var a=e.fn[u].validateFunctions[r](this.fieldValue,t[r],this.regionSettings);if(!0!==a)return this.fieldStatus=a,void this.invalidateFieldGroup()}s?this.validateFieldGroup(s):this.resetFieldGroup()}},invalidateFieldGroup:function(){this.element.removeClass(this.classes.controlValidClass).addClass(this.classes.controlErrorClass),this.field.attr(h.aInv,h.t).removeClass(this.classes.fieldValidClass).addClass(this.classes.fieldErrorClass),this.label.removeClass(this.classes.labelValidClass).addClass(this.classes.labelErrorClass),this.successbox&&this.successbox.html("").attr(h.aHi,h.t).removeClass(this.classes.successboxVisibleClass),this.alertbox&&!0!==this.fieldStatus&&this.alertbox.html(this.errorMsgs[this.fieldStatus]).attr(h.aHi,h.f).addClass(this.classes.alertboxVisibleClass),f.trigger(u+".isInvalid",[this])},validateFieldGroup:function(){this.element.removeClass(this.classes.controlErrorClass).addClass(this.classes.controlValidClass),this.field.attr(h.aInv,h.f).removeClass(this.classes.fieldErrorClass).addClass(this.classes.fieldValidClass),this.label.removeClass(this.classes.labelErrorClass).addClass(this.classes.labelValidClass),this.alertbox&&this.alertbox.html("").attr(h.aHi,h.t).removeClass(this.classes.alertboxVisibleClass),this.successbox&&!1!==this.successMsg&&this.successbox.html(this.successMsg).attr(h.aHi,h.f).addClass(this.classes.successboxVisibleClass),f.trigger(u+".isValid",[this])},resetFieldGroup:function(){this.element.removeClass(this.classes.controlErrorClass).removeClass(this.classes.controlValidClass),this.field.removeAttr(h.aInv).removeClass(this.classes.fieldErrorClass).removeClass(this.classes.fieldValidClass),this.label.removeClass(this.classes.labelErrorClass).removeClass(this.classes.labelValidClass),this.alertbox&&this.alertbox.html("").attr(h.aHi,h.t).removeClass(this.classes.alertboxVisibleClass),this.successbox&&!1!==this.successMsg&&this.successbox.html("").attr(h.aHi,h.t).removeClass(this.classes.successboxVisibleClass),f.trigger(u+".resetted",[this])},destroy:function(){this.unbindEventListeners(this.eventListeners),this.eventListeners=null,e.removeData(this,"plugin_"+u)},methodCaller:function(e,t){switch(e){case"updateFieldValue":this.updateFieldValue();break;case"unbindEventListeners":this.unbindEventListeners(t);break;case"setDirty":this.isDirty=!0;break;case"destroy":this.destroy();break;case"invalidateField":this.invalidateFieldGroup();break;case"resetField":this.resetFieldGroup()}}}),e.fn[u]=function(t,s){return this.each(function(){e.data(this,"plugin_"+u)||"object"!=typeof t&&void 0!==t?"string"==typeof t&&e.data(this,"plugin_"+u).methodCaller(t,s):e.data(this,"plugin_"+u,new d(this,t))})},e.fn[u].defaultClasses={controlIdPrefix:"control--",controlValidClass:"control_success",controlErrorClass:"control_error",fieldClass:"control__field",fieldErrorClass:"control__field_error",fieldValidClass:"control__field_valid",labelClass:"control__label",labelErrorClass:"control__label_error",labelValidClass:"control__label_valid",alertboxClass:"control__feedback_error",successboxClass:"control__feedback_valid",alertboxVisibleClass:"control__feedback_visible",successboxVisibleClass:"control__feedback_visible"},e.fn[u].defaultRegionSettings={dateFormat:"eu",timeFormat:"12",dateSeparator:"/",timeSeparator:":",decimalSeparator:","},e.fn[u].defaultErrorMsgs={letters:"Digits are not allowed in this field",onlyLetters:"Only letters are accepted",digits:"Letters are not allowed in this field",onlyDigits:"Only digits are accepted",int:"Enter a whole number (e.g. 12)",float:"Enter a number (e.g. 12.168 or 16)",bool:"You have to check this checkbox in order to continue",date:"Not a valid date",minDate:"The date entered is too far in the past",maxDate:"The date entered is too far in the future",time:"Entera valid time (e.g. 10:30)",timeWithSeconds:"Entera valid time (e.g. 10:30:55)",minTime:"Time is before the minimum time",maxTime:"Time is after the maximum time",email:"Enter a valid email address",telWithPrefix:"Enter a valid phone number with the county prefix (e.g. +49 373837638)",telNoPrefix:"Enter a valid phone number",telPrefix:"Not a valid prefix",password:"Password is not secure",min:"The entered number is too small",max:"The entered number is too big",minLength:"The length of the input is too short",maxLength:"Field length exceeds the maximum number of chars allowed",required:"This field is required to sucessfully complete the form",tokens:"Please choose a value from the list",match:"No match",customRegex:'Regex match returned "false"',ajax:"server says no!",ajaxError:"Server error."},e.fn[u].defaultSuccessMsg="Perfect! You told us exactly what we wanted to know!",e.fn[u].validateFunctions={letters:function(e){return!!/^[\D]*$/.test(e)||"letters"},onlyLetters:function(e){return!!/^[a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏàáâãäåæçèéêëìíîïÐÑÒÓÔÕÖØÙÚÛÜÝÞßðñòóôõöøùúûüýþÿ]*$/.test(e)||"onlyLetters"},digits:function(e){return!!/^[^a-zA-ZÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏàáâãäåæçèéêëìíîïÐÑÒÓÔÕÖØÙÚÛÜÝÞßðñòóôõöøùúûüýþÿ]*$/.test(e)||"digits"},onlyDigits:function(e){return!!/^[\d]*$/.test(e)||"onlyDigits"},int:function(e){var t=parseInt(e,10);return!!Number.isInteger(t)||(""===t||"int")},float:function(e,t,s){var i=e.split(","),r=e.split(".");return i.length>=2&&"."===s.decimalSeparator||r.length>=2&&","===s.decimalSeparator?"float":(","===s.decimalSeparator&&(e=e.replace(/,/,".")),!isNaN(e-parseFloat(e))||"float")},bool:function(e){return!!e||"bool"},date:function(e,t,s){if(!1===(e=a(e,s.dateFormat,s.dateSeparator)))return"date";if(""!==e){var i=new Date(e);return!isNaN(i.getTime())||"date"}return!0},minDate:function(e,t,s){return""===e||("object"==typeof t&&(t=l(t,s.dateFormat,s.dateSeparator)),e=a(e,s.dateFormat,s.dateSeparator),new Date(e)>=new Date(t)||"minDate")},maxDate:function(e,t,s){return""===e||("object"==typeof t&&(t=l(t,s.dateFormat,s.dateSeparator)),e=a(e,s.dateFormat,s.dateSeparator),new Date(e)<=new Date(t)||"maxDate")},time:function(e,t){},timeWithSeconds:function(e,t){},minTime:function(e,t){},maxTime:function(e,t){},email:function(e,t){return!!/^([\w-\.]+@([\w\-]+\.)+[\w\-]{2,4})?$/.test(e)||"email"},telWithPrefix:function(e){return!!/^(\+(?:[0-9] ?){6,14}[0-9])?$/.test(e)||"telWithPrefix"},telNoPrefix:function(e){return!!/^((?:[0-9] ?){6,14}[0-9])?$/.test(e)||"telNoPrefix"},telPrefix:function(e){return!!/^(\+(?:[0-9] ?){1,4}[0-9])?$/.test(e)||"telPrefix"},password:function(e){return!!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,50})/.test(e)||"password"},min:function(e,t){"object"==typeof t&&(t=o(t));var s=parseFloat(e,10);return s>=t||(""===s||"min")},max:function(e,t){"object"==typeof t&&(t=o(t));var s=parseFloat(e,10);return s<=t||(""===s||"max")},minLength:function(e,t){"object"==typeof t&&(t=n(t));var s=e.length;return s>=t||(0===s||"minLength")},maxLength:function(e,t){"object"==typeof t&&(t=n(t));var s=e.length;return s<=t||(0===s||"maxLength")},required:function(e){return e.length>0||"required"},tokens:function(e,t){for(var s=t.length,i=0;i<s;i+=1)if(t[i]===e)return!0;return"tokens"},matchMain:function(e,t){var s=t.val();return""===s||(e===s||"match")},match:function(e,t){return e===t.val()||"match"},customRegex:function(e,t){return!!t.test(e)||"customRegex"},ajax:function(t,s){e.ajax({method:"POST",url:s,data:t}).done(function(e){return"true"===e||"ajax"}).fail(function(){return f.trigger(u+".ajaxError",s),"ajaxError"})}},e.fn[u].autoformatFunctions={trim:function(e){return""!==e?e.trim():""},uppercase:function(e){return e.toUpperCase()},lowercase:function(e){return""!==e?e.toLowerCase():""},capitalize:function(e){if(""===e)return"";for(var t=e.split(" "),s=t.length,i="",r=0;r<s;r+=1)t[r]=t[r].slice(0,1).toUpperCase()+t[r].slice(1),i=i+" "+t[r];return i},capitalizeFirst:function(e){return""!==e?e.slice(0,1).toUpperCase()+e.slice(1):""},replace:function(e,t){if(""===e)return"";if(Array.isArray(t)&&t.length>0)for(var s=t.length,i=0;i<s;i+=1)e=e.replace(t[i].searchFor,t[i].replaceWith);else e=e.replace(t.searchFor,t.replaceWith);return e},autocompleteDate:function(e,t,s){if(""===e)return"";if(""!==t&&void 0!==t||(t="20"),""===e)return e;var i=s.dateSeparator,r=e.split(s.dateSeparator),a="",l="",n="";return 3!==r.length?e:(a=r[0],l=r[1],n=r[2],1===a.length&&(a="0"+a),1===l.length&&(l="0"+l),2===n.length&&(n=t+n),a+i+l+i+n)},insertCharAt:function(e,t){},insertCharEvery:function(e,t){var s=t.interval;if(""===e||e.length<=s)return e;var i=t.char,r=new RegExp("["+function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}(i)+"]","g"),a=(e=e.replace(r,""),new RegExp(".{1,"+s+"}","g")),l=e.match(a),n=l.length;e="";for(var o=0;o<n-1;o+=1)e=e+l[o]+i;return e+l[n-1]}}});